/*! ng-crud 2015-08-04 Universidad de Los Andes */
!function(a){var b=a.module("ngCrudMock",["ngMockE2E"]);b.constant("ngCrudMock.baseUrl","webresources"),b.value("ngCrudMock.mockRecords",{}),b.run(["$httpBackend","ngCrudMock.mockRecords","ngCrudMock.baseUrl",function(b,c,d){function e(a){for(var b,c={},d=a.slice(a.indexOf("?")+1).split("&"),e=0;e<d.length;e++)b=d[e].split("="),c[b[0]]=b[1];return c}function f(a){var b=a.split("?")[0],c=new RegExp(d+"/"),e=b.split(c).pop();return e.split("/")[0]}function g(a){var b=f(a);return void 0===c[b]&&(c[b]=[]),c[b]}var h="(([?](\\w+=\\w+))([&](\\w+=\\w+))*)?$",i=new RegExp(d+"/(\\w+)(/master)?"+h),j=new RegExp(d+"/(\\w+)(/master)?/([0-9]+)"+h),k=new RegExp("^((?!"+d+").)*$");b.whenGET(k).passThrough(),b.whenGET(i).respond(function(a,b){var c=g(b),d=[],f=e(b),h=f.page,i=f.maxRecords,j={};if(h&&i){var k=(h-1)*i,l=k+i;d=c.slice(k,l),j={"X-Total-Count":c.length}}else d=c;return[200,d,j]}),b.whenGET(j).respond(function(b,c){var d,e=g(c),f=parseInt(c.split("/").pop());return a.forEach(e,function(b){b.id===f&&(d=a.copy(b))}),[200,d,{}]}),b.whenPOST(i).respond(function(b,c,d){var e=g(c),f=a.fromJson(d);return f.id=Math.floor(1e4*Math.random()),e.push(f),[201,f,{}]}),b.whenPUT(j).respond(function(b,c,d){var e=g(c),f=a.fromJson(d);return a.forEach(e,function(a,b){a.id===f.id&&e.splice(b,1,f)}),[200,null,{}]}),b.whenDELETE(j).respond(function(b,c){var d=g(c),e=parseInt(c.split("/").pop());return a.forEach(d,function(a,b){a.id===e&&d.splice(b,1)}),[204,null,{}]})}])}(window.angular);